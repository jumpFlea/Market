<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qst.dao.AddressDao">

	<select id="getAlladid" parameterType="int" resultType="int">
		select ad_id from us_ad where u_id=#{u_id}
	</select>

	<select id="getAdress" parameterType="int" resultType="Adress">
		select * from adress where ad_id=#{ad_id}
	</select>

	<select id="findDefaultAddress" resultType="com.qst.model.Adress">
		SELECT
			a.ad_id AS ad_id,
			a.name AS `name`,
			a.phone AS phone,
			a.region AS region,
			a.street AS street
		FROM adress a
		LEFT JOIN usertable u ON u.ad_id = a.ad_id
		WHERE u.uid=#{0}
	</select>

	<select id="findAllAddressByUser" resultType="hashmap">
		SELECT
			a.ad_id AS id,
			a.name AS `name`,
			a.phone AS phone,
			a.region AS region,
			a.street AS street
		FROM adress a
		LEFT JOIN us_ad ua ON a.ad_id = ua.ad_id
		WHERE ua.u_id=#{0}
	</select>
	<!-- <insert id="setAdress" parameterType="Adress">
		insert into adress (name,phone,region,street) values(#{name},#{phone},#{region},#{street});
	</insert>  -->

	<!-- <update id="updateAdress" parameterType="String" >
		update adress set name=#{name},phone=#{phone},region=#{retgion},street=#{street};
	</update> -->

</mapper>